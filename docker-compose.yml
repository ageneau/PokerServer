db:
  image: postgres:alpine
  environment:
    POSTGRES_DB: poker
    POSTGRES_USER: dbuser
    POSTGRES_PASSWORD: dbuserpass
  ports:
   - "5432:5432"
  volumes:
   - ./db:/docker-entrypoint-initdb.d

web:
  image: tomcat:9
  ports:
   - "8080:8080"
  volumes:
   - ./tomcat-users.xml:/usr/local/tomcat/conf/tomcat-users.xml
   - ./target/pokerserver.war:/usr/local/tomcat/webapps/pokerserver.war
   - ./conf/web.xml:/usr/local/tomcat/conf/web.xml
  links:
    - db
